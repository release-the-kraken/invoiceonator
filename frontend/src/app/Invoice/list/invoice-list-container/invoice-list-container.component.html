<mat-card class="main-mat-card">
  <mat-card-content class="sales-list-content">
    <table mat-table [dataSource]="invoices" class="col-12 companies-table">

      <ng-container matColumnDef="number">
        <th mat-header-cell *matHeaderCellDef>Invoice number</th>
        <td mat-cell *matCellDef="let invoice">{{invoice.number}}</td>
      </ng-container>

      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef>Description</th>
        <td mat-cell *matCellDef="let invoice">{{invoice.description}}</td>
      </ng-container>

      <ng-container matColumnDef="creationDate">
        <th mat-header-cell *matHeaderCellDef>Creation date</th>
        <td mat-cell *matCellDef="let invoice">{{invoice.creationDate | date: 'yyyy-MM-dd'}}</td>
      </ng-container>

      <ng-container matColumnDef="dueDate">
        <th mat-header-cell *matHeaderCellDef>Creation date</th>
        <td mat-cell *matCellDef="let invoice">{{invoice.dueDate | date: 'yyyy-MM-dd'}}</td>
      </ng-container>

      <ng-container matColumnDef="userFullName">
        <th mat-header-cell *matHeaderCellDef>Handled by</th>
        <td mat-cell *matCellDef="let invoice">{{invoice.userFullName}}</td>
      </ng-container>

      <ng-container matColumnDef="companyName">
        <th mat-header-cell *matHeaderCellDef>Company</th>
        <td mat-cell *matCellDef="let invoice">{{invoice.companyName}}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="getVisibleColumnNames()"></tr>
      <tr mat-row *matRowDef="let row; columns: getVisibleColumnNames()"></tr>
    </table>
    <mat-paginator
      class=""
      [pageSizeOptions]="[ 3, 6, 9]"
      showFirstLastButtons
      aria-label="Select page of Invoices"
      [length]="totalElements"
      (page)="loadInvoices($event)">
    </mat-paginator>
  </mat-card-content>
  <div *ngIf="!authService.hasRole('ApplicationUserRole(id=1, name=ROLE_ADMIN)')" class="add-button-row">
    <button class="add-user-button" type="submit" mat-flat-button color="primary" (click)="openDialog()">
      Add new invoice
    </button>
  </div>
</mat-card>
